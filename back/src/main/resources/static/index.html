<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <title>Desk Posable. Change your life.</title>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/materialize.min.css">
        <link rel="stylesheet" href="css/sweetalert.css">
        <link rel="stylesheet" href="css/app.css">

        <script src="js/angularjs/jquery-3.2.1.min.js"></script>
        <script src="js/sweetalert.min.js"> </script>
        <script src="js/angularjs/angular/angular.js"></script>
        <script src="js/angularjs/angular-route/angular-route.js"></script>
        <script src="js/angularjs/angular-resource/angular-resource.js"></script>

        <script src="js/app.js"></script>
        <script src="js/controller.js"></script>

        <script>
            class Bureau {
                constructor(id,label,x, y) {
                    this.id = id;
                    this.label = label;
                    this.x = x;
                    this.y = y;
                    this.map = 1;
                }
                set user(user){
                    this.user = user;
                }
                static addMaterial(material){
                    this.materials.push(material);
                }
            }
            var typeCreation = 0; //0 : rien, 1 = Bureau
            var bureaux = [];
            var idBureau = 0; //s'incrémente à chaque ajout de bureau

            function createViewBureau(idBureau,posX,posY) {

                var heightOfOfficeImg = 100;
                var widthOfOfficeImg = 200;

                var heightOfMap = 578;
                var widthOfMap = 1000;

                var leftPositionRelative = -((idBureau-1)*widthOfOfficeImg)+posX-(widthOfOfficeImg/2);
                var topPositionRelative = -heightOfMap+posY-(heightOfOfficeImg/2);
                var imgBureau= '<img data-id="'+idBureau+'" onclick="setBureau(this)" src="../images/bureau.png" class="bureau-style" id="bureau-'+idBureau+'" style="position: relative;top :'+topPositionRelative+'px;left :'+leftPositionRelative+'px;"/>';
                $(".bureaux-container").html($(".bureaux-container").html()+imgBureau);
            }
            function selectIconBureau(){
                $(".add_bureau").css('background-color','orangered');
            }
            function mode_bureau() {
                typeCreation = 1;
                selectIconBureau();
            }
            function setBureau(el) {
                $(".bureaux-container img").removeClass('selectedOffice');
                $("#"+el.getAttribute("id")).addClass('selectedOffice');
                $(".selected-office").html("<span>Bureau "+el.dataset.id+"</span>");
                console.log( el.dataset.id);
            }
        </script>
    </head>

    <body ng-app="app">

        <nav>
            <div class="nav-wrapper app-back-theme-color-1">
                <a href="#" data-activates="slide-out" class="button-collapse"><i class="material-icons">menu</i></a>
                <a href="#" class="brand-logo">DeskPosable</a>
                <ul id="nav-mobile" class="right hide-on-med-and-down">
                    <li class="accueil"><a href="#/accueil">Accueil</a></li>
                    <li class="plan"><a href="#/plans">Les Plans</a></li>
                    <li class="building"><a href="#/batiments">Les bâtiments</a></li>
                    <li class="connexion"><a href="#/connexion">Se connecter au module d'administration</a></li>
                </ul>
            </div>
        </nav>
        <ul id="slide-out" class="side-nav">
            <li class="accueil"><a href="#/accueil">Accueil</a></li>
            <li class="plan"><a href="#/plans">Les Plans</a></li>
            <li class="building"><a href="#/batiments">Les bâtiments</a></li>
            <li class="connexion"><a href="#/connexion">Se connecter</a></li>
        </ul>

        <main ng-view></main>

        <footer class="page-footer app-back-theme-color-1">
            <div class="container">
                <div class="row">
                    <div class="col l6 s12">
                        <h5 class="white-text">DeskPosable. Managing your workforce.</h5>
                    </div>
                    <div class="col l4 offset-l2 s12">
                        <h5 class="white-text">L'équipe de développement</h5>
                        <ul>
                            <li><a class="grey-text text-lighten-3" href="#!">Axel ADAINE JEAN PIERRE</a></li>
                            <li><a class="grey-text text-lighten-3" href="#!">Marc ETOURNEAU</a></li>
                            <li><a class="grey-text text-lighten-3" href="#!">Alexis ZAWIALOFF</a></li>
                            <li><a class="grey-text text-lighten-3" href="#!">François Xavier LESSAFRE</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer-copyright">
                <div class="container">
                    © 2017 Copyright
                    <a class="grey-text text-lighten-4 right" href="#!">DeskPosable</a>
                </div>
            </div>
        </footer>

    </body>


</html>
